{# edit.html #}
{# Указываем, что этот шаблон наследует от base.html #}
{% extends 'base.html' %}

{# Переопределяем блок title для заголовка страницы #}
{% block title %}Редактировать запись{% endblock %}

{# Переопределяем блок body_class для специфичных стилей страницы #}
{% block body_class %}page-edit{% endblock %}


{# --- Переопределяем блок content для основного содержимого страницы --- #}
{% block content %}
    {# Уникальное содержимое страницы "Редактировать запись" начинается здесь.
       Теги <main> и <div class="container flex-grow-1"> из base.html уже предоставлены.
       Вам нужно скопировать сюда все, что было внутри <main> в вашем старом edit.html.
    #}

    <div class="container"> {# Этот контейнер был внутри main в вашем старом коде #}
        {# Заголовок страницы с ID поста #}
        <h1>Редактировать запись #{{ post.id }}</h1>

        {# --- Форма редактирования поста --- #}
        {# Форма отправляется на маршрут 'edit' с ID поста методом POST #}
        {# Важно: добавьте enctype="multipart/form-data" для загрузки файлов #}
        <form method="post" enctype="multipart/form-data" class="form-control" style="padding: 20px; background-color: rgba(255, 255, 255, 0.05);border-radius: 0; border: 3px solid #eee;">
            <div class="mb-3">
                <label for="titleInput" class="form-label" style="color: #fff;">Заголовок</label>
                {# Поле ввода заголовка, предзаполненное текущим заголовком поста #}
                <input type="text" name="title" id="titleInput" placeholder="Введите заголовок статьи" class="form-control" value="{{ post.title }}" required>
            </div>
            <div class="mb-3">
                <label for="textInput" class="form-label" style="color: #fff;">Текст записи</label>
                {# Поле ввода текста, предзаполненное текущим текстом поста #}
                <textarea name="text" id="textInput" placeholder="Введите текст записи" class="form-control" rows="10" required>{{ post.text }}</textarea>
            </div>

            {# --- Поле для загрузки нового изображения (необязательно) --- #}
            <div class="mb-3">
                <label for="imageInput" class="form-label" style="color: #fff;">Новое изображение (необязательно)</label>
                <input type="file" name="image" id="imageInput" class="form-control" accept="image/*">
                {# Опционально: показать текущее изображение, если оно есть #}
                {% if post.image_filename %}
                    <small class="form-text" style="color: #ccc; opacity: 0.7;">Текущее изображение:</small>
                    <img src="{{ url_for('static', filename='post_images/' + post.image_filename) }}" alt="Текущее изображение" style="max-width: 200px; height: auto; margin-top: 10px; border: 1px solid #ccc; border-radius: 4px;">
                    {# Опционально: добавить чекбокс для удаления текущего изображения без загрузки нового #}
                    {# <div class="form-check mt-2">
                        <input class="form-check-input" type="checkbox" value="delete" id="deleteImageCheck" name="delete_image">
                        <label class="form-check-label" for="deleteImageCheck" style="color: #fff;">
                            Удалить текущее изображение
                        </label>
                    </div> #}
                {% endif %}
            </div>
            {# --- Конец поля нового изображения --- #}

            {# Кнопка отправки формы #}
            <button class="btn btn-primary" type="submit">Сохранить изменения</button>
            {# Ссылка для отмены (возврат на страницу медиа) #}
             <a href="{{ url_for('media') }}" class="btn btn-secondary">Отмена</a>

        </form>
         {# --- Конец формы --- #}
    </div> {# Закрытие div.container #}


{% endblock %}
{# --- Конец блока content --- #}

{# Опционально: если нужны скрипты только для этой страницы, переопределите блок extra_scripts #}
{# {% block extra_scripts %}
    <script src="{{ url_for('static', filename='js/edit_script.js') }}"></script>
{% endblock %} #}
